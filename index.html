<!DOCTYPE html>

<html>

<head>
	<title>Circle Up</title>
	<!-- STYLESHEETS -->
	<link rel="stylesheet" type="text/css" href="style/reset.css">
	<link rel="stylesheet/less" type="text/css" href="style/styles.less">
	<script src="style/less.js" type="text/javascript"></script>
	<link rel="stylesheet" type="text/css" href="style/styles.css">
	<link href='https://fonts.googleapis.com/css?family=Fredoka+One|News+Cycle:400,700' rel='stylesheet' type='text/css'>
	<link rel="icon" type="img/ico" href="style/favicon.ico" style="width:30px;">
	<!-- Need to Change Favicon to PNG -->
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script> 
	<script src="person.js" type="text/javascript"></script>
	<script src="http://maps.googleapis.com/maps/api/js"></script>
	<style>



	</style>
</head>

<body>

	<div id="demo">Error</div>

	<div id="user-list"></div>
	
	<div id="mapContainer">
		<div id="googleMap" style="width:100%;height:400px;"></div>
		<div class="coord" id="latCoord">25.0000000</div>
		<div class="coord" id="lonCoord">-65.0000000</div>
	</div>

	<script src="geolocation.js" type="text/javascript"></script>
	<script type="text/javascript">

		//var imgPath = 'urlhere';
		var url = 'http://spreadsheets.google.com/feeds/list/1PrmblSB1Kn846lgxeSGVK4bjargdOEmAWG64QP6vh44/od6/public/values?alt=json-in-script&callback=?';

		var people = [];
		var locations = [];

		$(document).ready(function(){
			$(function listBooks(){
				$.getJSON(
					url,
					function(data){
						$('div#user-list').append('<ul class="users"></ul>');
						$.each(data.feed.entry, function(i, entry){
							var user = entry.gsx$firstname.$t + ' (' + entry.gsx$id.$t + ')';
							//user += '<img src="' + imgPath + entry.gsx$isbn.$t + '-0.jpg">';
							//user += entry.title.$t;
							//user += '<br>' + entry.location.$t;
							$('.users').append('<li>' + user + '</li>');
							var person = new Person(
								entry.gsx$id.$t,
								entry.gsx$firstname.$t,
								entry.gsx$lastname.$t
							);
							people.push(person);
							locations.push([entry.gsx$firstname.$t, parseFloat(entry.gsx$lat.$t), parseFloat(entry.gsx$lon.$t)]);
						});

		for(var p = 0; p < people.length; p++){
			console.log(people[p].toString());
		}

		for(var l = 0; l < locations.length; l++){
			console.log(locations[l]);
			//alert(locations[l]);
		}

					});
			});
		});


getLocation();

        $(document).ready(function() {
            // execute
            (function() {
                // map options
                var options = {
                    zoom: 5,
                    center: new google.maps.LatLng(39.909736, -98.522109), // centered US
                    mapTypeId: google.maps.MapTypeId.TERRAIN,
                    mapTypeControl: false
                };

                // init map
                var map = new google.maps.Map(document.getElementById('googleMap'), options);

                // NY and CA sample Lat / Lng
                var southWest = new google.maps.LatLng(40.744656, -74.005966);
                var northEast = new google.maps.LatLng(34.052234, -118.243685);
                var lngSpan = northEast.lng() - southWest.lng();
                var latSpan = northEast.lat() - southWest.lat();

                // set multiple marker
                for (var i = 0; i < 250; i++) {
                    // init markers
                    var marker = new google.maps.Marker({
                        position: new google.maps.LatLng(southWest.lat() + latSpan * Math.random(), southWest.lng() + lngSpan * Math.random()),
                        map: map,
                        title: 'Click Me ' + i
                    });

                    // process multiple info windows
                    (function(marker, i) {
                        // add click event
                        google.maps.event.addListener(marker, 'click', function() {
                            infowindow = new google.maps.InfoWindow({
                                content: 'Hello, World!!'
                            });
                            infowindow.open(map, marker);
                        });
                    })(marker, i);
                }
            })();
        });

	</script>

</body>

</html>