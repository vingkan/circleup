<!DOCTYPE html>
<html>
	<head>
		<title>Circle Up</title>
		<link rel="icon" type="img/png" href="style/favicon.png" style="width:30px;">
		<link rel="stylesheet" type="text/css" href="style/reset.css">
		<link rel="stylesheet" type="text/css" href="style/main.css">
		<link href='https://fonts.googleapis.com/css?family=Fredoka+One|News+Cycle:400,700' rel='stylesheet' type='text/css'>
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
		<style>

			input#take-picture{
				width: 100vw;
				height: 20vh;
			}

			img#show-picture{
				width: 100vw;
			}

		</style>
	</head>
	<body>

		<input type="file" id="take-picture" accept="image/*;capture=camera">
		<img id="show-picture">

		<video autoplay></video>

<script>
  var errorCallback = function(e) {
    console.log('Reeeejected!', e);
  };

  // Not showing vendor prefixes.
  navigator.getUserMedia({video: true, audio: true}, function(localMediaStream) {
    var video = document.querySelector('video');
    video.src = window.URL.createObjectURL(localMediaStream);

    // Note: onloadedmetadata doesn't fire in Chrome when using it with getUserMedia.
    // See crbug.com/110938.
    video.onloadedmetadata = function(e) {
      // Ready to go. Do some stuff.
    };
  }, errorCallback);
</script>

		<script type="text/javascript">

		var takePicture = document.querySelector('#take-picture');
		takePicture.onchange = function(event){
			var files = event.target.files,
				file;
			if(files && files.length > 0){
				file = files[0];
			}
			var showPicture = document.querySelector('#show-picture');
			var imgURL = window.URL.createObjectURL(file);
			showPicture.src = imgURL;
			//URL.revokeObjectURL(imgURL);
		}




		</script>
		
	</body>
</html>